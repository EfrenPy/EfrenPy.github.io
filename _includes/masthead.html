{% include base_path %}

<div class="masthead">
  <!-- Scroll progress bar -->
  <div class="scroll-progress" aria-hidden="true"></div>
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="site-nav" aria-label="Main navigation">
        <a class="site-title" href="{{ base_path }}/">{{ site.title }}</a>
        <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
          <span class="navicon"></span>
        </button>
        <ul class="nav-links">
          {% for link in site.data.navigation.main %}
            {% if link.url contains 'http' %}
              {% assign domain = '' %}
            {% else %}
              {% assign domain = base_path %}
            {% endif %}
            <li>
              <a href="{{ domain }}{{ link.url }}">
                {% if link.title_en and link.title_es %}
                  <span class="lang-en" lang="en">{{ link.title_en }}</span>
                  <span class="lang-es" lang="es">{{ link.title_es }}</span>
                {% else %}
                  {{ link.title }}
                {% endif %}
              </a>
            </li>
          {% endfor %}
        </ul>
        {% if site.search %}
        <button class="search-toggle" aria-label="Search" title="Search">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
        </button>
        {% endif %}
        <button class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">
          <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
          <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>
        <button class="lang-toggle" aria-label="Toggle language" aria-pressed="false" title="Toggle language">
          <span class="lang-label lang-label--en">EN</span>
          <span class="lang-label lang-label--es">ES</span>
        </button>
        <button class="color-toggle" aria-label="Change accent color" aria-expanded="false" aria-controls="color-picker" title="Change accent color">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="4" fill="currentColor"/></svg>
        </button>
        <div id="color-picker" class="color-picker" role="radiogroup" aria-label="Accent color scheme">
          <button class="color-swatch" role="radio" aria-checked="true" data-primary="#52adc8" data-accent="#8B5CF6" aria-label="Ocean Purple" tabindex="0" style="background:linear-gradient(135deg,#52adc8,#8B5CF6)"></button>
          <button class="color-swatch" role="radio" aria-checked="false" data-primary="#10b981" data-accent="#06b6d4" aria-label="Emerald Cyan" tabindex="-1" style="background:linear-gradient(135deg,#10b981,#06b6d4)"></button>
          <button class="color-swatch" role="radio" aria-checked="false" data-primary="#f59e0b" data-accent="#ef4444" aria-label="Amber Red" tabindex="-1" style="background:linear-gradient(135deg,#f59e0b,#ef4444)"></button>
          <button class="color-swatch" role="radio" aria-checked="false" data-primary="#ec4899" data-accent="#8b5cf6" aria-label="Pink Purple" tabindex="-1" style="background:linear-gradient(135deg,#ec4899,#8b5cf6)"></button>
          <button class="color-swatch" role="radio" aria-checked="false" data-primary="#6366f1" data-accent="#14b8a6" aria-label="Indigo Teal" tabindex="-1" style="background:linear-gradient(135deg,#6366f1,#14b8a6)"></button>
        </div>
      </nav>
    </div>
  </div>
</div>