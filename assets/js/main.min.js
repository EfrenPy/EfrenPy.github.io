(()=>{function I(){var e=document.querySelector(".nav-toggle"),n=document.querySelector(".site-nav");if(!e||!n)return;e.addEventListener("click",function(){var r=n.classList.toggle("is-open");e.setAttribute("aria-expanded",String(r)),e.classList.toggle("close",r),document.body.classList.toggle("overflow--hidden",r)});function o(){n.classList.remove("is-open"),e.setAttribute("aria-expanded","false"),e.classList.remove("close"),document.body.classList.remove("overflow--hidden")}var t=n.querySelectorAll(".nav-links a");t.forEach(function(r){r.addEventListener("click",o)});var i=window.matchMedia("(min-width: 925px)");i.addEventListener?i.addEventListener("change",function(){i.matches&&o()}):i.addListener&&i.addListener(function(){i.matches&&o()}),document.addEventListener("keydown",function(r){r.key==="Escape"&&n.classList.contains("is-open")&&(o(),e.focus())})}function O(){var e=document.querySelector(".nav-more__toggle"),n=document.querySelector(".nav-more__dropdown");if(!e||!n)return;function o(){n.classList.add("is-open"),e.setAttribute("aria-expanded","true")}function t(){n.classList.remove("is-open"),e.setAttribute("aria-expanded","false")}e.addEventListener("click",function(i){i.stopPropagation(),n.classList.contains("is-open")?t():o()}),document.addEventListener("click",function(i){!n.contains(i.target)&&i.target!==e&&t()}),document.addEventListener("keydown",function(i){i.key==="Escape"&&n.classList.contains("is-open")&&(t(),e.focus())}),n.querySelectorAll("a").forEach(function(i){i.addEventListener("click",t)})}function M(){let e=window.location.pathname;document.querySelectorAll(".nav-links a").forEach(o=>{o.classList.remove("active");let t=new URL(o.href).pathname;(e===t||t!=="/"&&e.startsWith(t))&&o.classList.add("active")})}var A=null;function q(e){var n=document.getElementById("sr-announcer");n&&(A&&clearTimeout(A),n.textContent=e,A=setTimeout(function(){n.textContent=""},1e3))}function B(){let e=document.querySelector(".theme-toggle");if(!e)return;let n=i=>{document.querySelectorAll(".theme-img").forEach(r=>{r.src=r.getAttribute("data-"+i)||r.src})},o=i=>{document.documentElement.setAttribute("data-theme",i),localStorage.setItem("theme",i),n(i)};e.addEventListener("click",()=>{let r=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";o(r),q(r==="dark"?"Dark mode enabled":"Light mode enabled")}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{localStorage.getItem("theme")||o(i.matches?"dark":"light")});let t=document.documentElement.getAttribute("data-theme")||"light";n(t)}function H(){let e=document.querySelector(".lang-toggle");if(!e)return;let n=i=>{document.documentElement.setAttribute("data-lang",i),document.documentElement.setAttribute("lang",i),localStorage.setItem("lang",i)},o=i=>{e.setAttribute("aria-pressed",i==="es"?"true":"false"),document.querySelectorAll("[data-i18n-"+i+"]").forEach(r=>{let s=r.getAttribute("data-i18n-"+i);r.tagName==="INPUT"?r.placeholder=s:r.hasAttribute("aria-label")&&r.setAttribute("aria-label",s)})},t=document.documentElement.getAttribute("data-lang")||"en";o(t),e.addEventListener("click",()=>{let r=document.documentElement.getAttribute("data-lang")==="en"?"es":"en";n(r),o(r),q(r==="es"?"Idioma cambiado a espa\xF1ol":"Language changed to English")})}var L,S;function P(){var e=document.querySelectorAll('a[href$=".jpg"], a[href$=".jpeg"], a[href$=".JPG"], a[href$=".png"], a[href$=".gif"], a[href$=".webp"]');if(e.length===0)return;var n=0,o=Array.from(e),t=document.querySelector(".image-lightbox");if(!t){t=document.createElement("dialog"),t.className="image-lightbox",t.innerHTML='<button class="lightbox-prev" aria-label="Previous image">&#8249;</button><img src="" alt="Lightbox image"><button class="lightbox-next" aria-label="Next image">&#8250;</button><button class="lightbox-close" aria-label="Close">&times;</button><div class="lightbox-counter"></div>',document.body.appendChild(t),t.querySelector("img").addEventListener("error",function(){this.alt="Image could not be loaded",this.style.minWidth="300px",this.style.minHeight="200px",this.style.display="flex",this.style.alignItems="center",this.style.background="rgba(255,255,255,0.1)"});var i=document.createElement("style");i.textContent=".image-lightbox { border: none; padding: 0; background: rgba(0,0,0,0.9); max-width: 95vw; max-height: 95vh; position: relative; }.image-lightbox::backdrop { background: rgba(0,0,0,0.8); }.image-lightbox img { max-width: 90vw; max-height: 90vh; object-fit: contain; display: block; }.image-lightbox .lightbox-close { position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.9); border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 24px; cursor: pointer; line-height: 1; }.image-lightbox .lightbox-close:hover { background: #fff; }.image-lightbox .lightbox-prev, .image-lightbox .lightbox-next { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(255,255,255,0.8); border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 28px; cursor: pointer; line-height: 1; display: flex; align-items: center; justify-content: center; transition: background 0.2s; }.image-lightbox .lightbox-prev:hover, .image-lightbox .lightbox-next:hover { background: #fff; }.image-lightbox .lightbox-prev { left: 10px; }.image-lightbox .lightbox-next { right: 10px; }.image-lightbox .lightbox-prev[hidden], .image-lightbox .lightbox-next[hidden] { display: none; }.image-lightbox .lightbox-counter { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); color: rgba(255,255,255,0.7); font-size: 0.85rem; }",document.head.appendChild(i),t.querySelector(".lightbox-close").addEventListener("click",function(){t.close()}),t.addEventListener("click",function(a){a.target===t&&t.close()});var s=t.querySelector(".lightbox-prev"),c=t.querySelector(".lightbox-next");s.addEventListener("click",function(a){a.stopPropagation(),L&&L()}),c.addEventListener("click",function(a){a.stopPropagation(),S&&S()}),t.addEventListener("keydown",function(a){a.key==="ArrowLeft"?(a.preventDefault(),L&&L()):a.key==="ArrowRight"&&(a.preventDefault(),S&&S())})}var r=t.querySelector("img"),s=t.querySelector(".lightbox-prev"),c=t.querySelector(".lightbox-next"),f=t.querySelector(".lightbox-counter");function d(l){n=l,r.style.minWidth="",r.style.minHeight="",r.style.background="",r.src=o[l].href;var g=o[l].querySelector("img");r.alt=g&&g.alt?g.alt:"Image "+(l+1);var a=o.length>1;s.hidden=!a,c.hidden=!a,f.textContent=a?l+1+" / "+o.length:""}L=function(){d((n-1+o.length)%o.length)},S=function(){d((n+1)%o.length)},o.forEach(function(l,g){l.addEventListener("click",function(a){a.preventDefault(),d(g),t.showModal()})})}var v=null,E=null,k=null;function D(){if(v&&(v.disconnect(),v=null),window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;var e={threshold:.1,rootMargin:"0px 0px -50px 0px"};v=new IntersectionObserver(function(t){t.forEach(function(i){i.isIntersecting&&(i.target.classList.add("is-visible"),v.unobserve(i.target))})},e);let n=document.querySelectorAll(".archive__item, .page__content > h2, .page__content > h3, .page__content > p, .page__content > ul, .page__content > ol, .author__urls li, .feature__item, .cert-card, .contact-card, .career-timeline__milestone, .cv-timeline-item, .cv-edu-card, .cv-skill-tag, .github-stats > a, .key-results__card, .value-prop, .bio-section__callout, .featured-post-card, .looking-for-section"),o=new Map;n.forEach(t=>{if(t.classList.contains("reveal")||t.classList.contains("reveal--left")||t.classList.contains("reveal--right")){v.observe(t);return}var i=t.matches(".key-results__card, .bio-section__callout"),r=t.matches(".career-timeline__milestone");if(i&&t.parentElement){var s=t.parentElement,c=o.get(s)||0;o.set(s,c+1),t.style.transitionDelay=c*.08+"s",t.classList.add("reveal--scale")}else if(r&&t.parentElement){var s=t.parentElement,c=o.get(s)||0;o.set(s,c+1),t.style.transitionDelay=c*.1+"s",t.classList.add("reveal--slide-up")}var f=t.matches(".cert-card, .contact-card, .archive__item, .cv-edu-card, .cv-timeline-item");if(!i&&!r&&f&&t.parentElement){var s=t.parentElement,c=o.get(s)||0;o.set(s,c+1),t.style.transitionDelay=c*.08+"s",c%2===0?t.classList.add("reveal--left"):t.classList.add("reveal--right")}else if(!i&&!r&&(t.classList.add("reveal"),t.matches(".author__urls li, .cv-skill-tag"))){var d=t.parentElement?Array.from(t.parentElement.children):[],l=d.indexOf(t);t.style.transitionDelay=l*.05+"s"}v.observe(t)})}function N(){let e=document.querySelector(".scroll-progress"),n=document.querySelector(".masthead");if(!e)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){e.style.display="none";return}let o=!1,t=()=>{let i=window.scrollY,r=document.documentElement.scrollHeight-window.innerHeight,s=r>0?i/r*100:0;e.style.width=`${s}%`,n&&n.classList.toggle("is-scrolled",i>10),o=!1};window.addEventListener("scroll",()=>{o||(requestAnimationFrame(t),o=!0)},{passive:!0}),t()}function R(){var e=document.querySelector(".scroll-to-top");if(e){var n=300,o=!1,t=function(){window.scrollY>n?e.classList.add("is-visible"):e.classList.remove("is-visible"),o=!1};window.addEventListener("scroll",function(){o||(requestAnimationFrame(t),o=!0)},{passive:!0}),e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),t()}}function F(){E&&(E.disconnect(),E=null),k&&(k.abort(),k=null);var e=document.querySelector(".floating-cta");if(e){k=new AbortController;var n=k.signal,o=600,t=!1,i=!1,r=document.querySelector(".page__footer");r&&(E=new IntersectionObserver(function(c){i=c[0].isIntersecting,s()},{threshold:.1}),E.observe(r));var s=function(){window.scrollY>o&&window.innerWidth<925&&!i?e.classList.add("is-visible"):e.classList.remove("is-visible"),t=!1};window.addEventListener("scroll",function(){t||(requestAnimationFrame(s),t=!0)},{passive:!0,signal:n}),window.addEventListener("resize",function(){t||(requestAnimationFrame(s),t=!0)},{passive:!0,signal:n}),s()}}var y=null;function K(){if(y&&(y.disconnect(),y=null),!window.matchMedia("(prefers-reduced-motion: reduce)").matches){var e=document.querySelectorAll(".key-results__number[data-count]");e.length&&(y=new IntersectionObserver(function(n){n.forEach(function(o){o.isIntersecting&&(U(o.target),y.unobserve(o.target))})},{threshold:.5}),e.forEach(function(n){y.observe(n)}))}}function U(e){var n=e.textContent,o=parseInt(e.getAttribute("data-count"),10);if(isNaN(o))return;var t=1200,i=performance.now();function r(s){var c=s-i,f=Math.min(c/t,1),d=1-Math.pow(1-f,3),l=Math.round(d*o);f<1?(e.textContent=String(l),requestAnimationFrame(r)):e.textContent=n}e.textContent="0",requestAnimationFrame(r)}function z(){let e=document.querySelector(".author__urls-wrapper"),n=document.querySelector(".author__urls"),o=document.querySelector(".author__urls-wrapper button"),t=()=>{if(!n)return;let i=o!==null,r=i&&o.offsetParent!==null;!i||i&&!r?n.style.display="":n.style.display="none"};t(),window.addEventListener("resize",t),o&&n&&o.addEventListener("click",function(){let i=n.style.display==="none"||getComputedStyle(n).display==="none";n.style.display=i?"block":"none",this.classList.toggle("open"),this.setAttribute("aria-expanded",String(i))}),W()}var $=925,u={STICK_TOP:"STICK_TOP",STICK_BOTTOM:"STICK_BOTTOM",FLOAT:"FLOAT"};function W(){let e=document.querySelector(".sidebar.sticky");if(!e)return;let n=document.getElementById("swup-sidebar");if(!n)return;let o=u.STICK_TOP,t=window.scrollY,i=!1,r=0,s=new AbortController,{signal:c}=s;n._stickyAbort&&n._stickyAbort.abort(),n._stickyAbort=s;function f(){let h=document.querySelector(".masthead");return h?h.offsetHeight:0}function d(){return Math.max(e.getBoundingClientRect().height,e.offsetHeight,e.scrollHeight)}function l(){return document.documentElement.clientHeight-d()}function g(){if(i=!1,window.innerWidth<$){e.style.position="",e.style.top="";return}let h=document.documentElement.clientHeight,x=f();if(d()<=h-x){e.style.position="",e.style.top="",o=u.STICK_TOP;return}let m=window.scrollY,w=m>t,T=e.getBoundingClientRect();switch(o){case u.STICK_TOP:w&&(r=T.top-n.getBoundingClientRect().top,e.style.position="relative",e.style.top=r+"px",o=u.FLOAT);break;case u.STICK_BOTTOM:e.style.top=l()+"px",w||(r=T.top-n.getBoundingClientRect().top,e.style.position="relative",e.style.top=r+"px",o=u.FLOAT);break;case u.FLOAT:w?T.bottom<=h&&(e.style.position="sticky",e.style.top=l()+"px",o=u.STICK_BOTTOM):T.top>=x&&(e.style.position="sticky",e.style.top=x+"px",o=u.STICK_TOP);break}t=m}function a(){i||(requestAnimationFrame(g),i=!0)}function b(){o=u.STICK_TOP,e.style.position="",e.style.top="",t=window.scrollY}window.addEventListener("scroll",a,{signal:c,passive:!0}),window.addEventListener("resize",b,{signal:c}),document.fonts.ready.then(()=>{o===u.STICK_BOTTOM&&(e.style.top=l()+"px")})}function Y(){var e=document.querySelector(".search-toggle"),n=document.querySelector(".search-overlay");if(!e||!n)return;var o=n.querySelector(".search-overlay__input"),t=n.querySelector(".search-overlay__results"),i=n.querySelector(".search-overlay__close"),r=null;function s(){n.hidden=!1,document.body.classList.add("overflow--hidden"),o.value="",t.innerHTML="",setTimeout(function(){o.focus()},50),f()}function c(){n.hidden=!0,document.body.classList.remove("overflow--hidden"),e.focus()}function f(){r||fetch("/search.json").then(function(a){return a.json()}).then(function(a){r=a}).catch(function(){r=[]})}function d(a){if(!r||!a){t.innerHTML="";return}var b=a.toLowerCase().split(/\s+/).filter(Boolean),h=r.filter(function(p){var m=(p.title+" "+p.excerpt+" "+(p.tags||[]).join(" ")).toLowerCase();return b.every(function(w){return m.indexOf(w)!==-1})});if(h.length===0){var x=document.documentElement.getAttribute("data-lang")||"en";t.innerHTML='<div class="search-no-results">'+(x==="es"?"No se encontraron resultados.":"No results found.")+"</div>";return}t.innerHTML=h.slice(0,10).map(function(p){var m=p.excerpt||"";return m.length>120&&(m=m.substring(0,120)+"..."),'<a class="search-result" href="'+encodeURI(p.url)+'"><div class="search-result__title">'+l(p.title)+"</div>"+(m?'<div class="search-result__excerpt">'+l(m)+"</div>":"")+"</a>"}).join("")}function l(a){var b=document.createElement("div");return b.textContent=a,b.innerHTML}var g;o.addEventListener("input",function(){clearTimeout(g);var a=o.value.trim();g=setTimeout(function(){d(a)},200)}),e.addEventListener("click",s),i.addEventListener("click",c),n.addEventListener("click",function(a){a.target===n&&c()}),document.addEventListener("keydown",function(a){a.key==="Escape"&&!n.hidden&&c(),(a.ctrlKey||a.metaKey)&&a.key==="k"&&(a.preventDefault(),n.hidden?s():c())})}function j(){var e=document.querySelector(".offline-banner");if(!e)return;function n(){navigator.onLine?e.hidden=!0:e.hidden=!1}window.addEventListener("online",n),window.addEventListener("offline",n),n()}var _=null;document.addEventListener("DOMContentLoaded",function(){if(I(),O(),B(),H(),localStorage.removeItem("accent-colors"),j(),Y(),C(),typeof Swup<"u"){var e=new Swup({containers:["#swup-sidebar","#swup-content"],animationSelector:'[class*="swup-transition-"]',cache:!0,animateHistoryBrowsing:!0});e.hooks.on("visit:start",function(){var n=document.querySelector(".scroll-progress");n&&(n.classList.add("progress-bar--loading"),n.style.width="80%")}),e.hooks.on("content:replace",function(){var n=document.querySelector(".scroll-progress");n&&(n.style.width="100%",setTimeout(function(){n.classList.remove("progress-bar--loading"),n.style.width="0%"},300))}),e.hooks.on("page:view",function(){window.location.pathname==="/"||window.location.pathname==="/index.html"?document.body.classList.add("is-homepage"):document.body.classList.remove("is-homepage"),C();var n=document.getElementById("main");n&&(n.setAttribute("tabindex","-1"),n.focus({preventScroll:!0})),typeof gtag=="function"&&gtag("event","page_view",{page_path:window.location.pathname,page_title:document.title});var o=document.getElementById("sr-announcer");o&&(o.textContent=document.title)})}});document.documentElement.style.scrollBehavior="smooth";function C(){_&&(_.disconnect(),_=null);var e=document.querySelector(".page__footer");if(e){var n=function(){document.body.style.marginBottom=e.offsetHeight+"px"};n(),typeof ResizeObserver<"u"&&(_=new ResizeObserver(n),_.observe(e))}z(),P(),D(),N(),M(),R(),F(),K(),window.scrollTo(0,0)}window.initPageFeatures=C;})();
