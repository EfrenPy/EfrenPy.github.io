---
layout: null
---
[
  {% assign pages = site.pages | where_exp: "page", "page.title" %}
  {% assign collections = site.posts | concat: site.publications | concat: site.talks | concat: site.portfolio | concat: site.personal | concat: site.teaching %}
  {% assign all_pages = pages | concat: collections %}
  {% for page in all_pages %}
  {
    "title": {{ page.title | strip_html | strip_newlines | jsonify }},
    "url": {{ page.url | prepend: site.baseurl | jsonify }},
    "excerpt": {{ page.excerpt | default: page.description | default: "" | markdownify | strip_html | strip_newlines | truncate: 200 | jsonify }},
    "date": "{{ page.date | date: "%Y-%m-%d" }}",
    "categories": {{ page.categories | default: "" | jsonify }},
    "tags": {{ page.tags | default: "" | jsonify }}
  }{% unless forloop.last %},{% endunless %}
  {% endfor %}
]
